$(function(){function a(a){if(!a.hasClass("ajax-model-choice-widget-processed")){var e=a.attr("data-input-id"),t=a.attr("data-ajax-url"),i=$("#"+e),n={},o;i.autocomplete({minLength:0,select:function(e,t){return i[0].value=t.item.value,a[0].value=t.item.id,!1},source:function(a,e){var i=a.term;return i in n?void e(n[i]):void(o=$.getJSON(t,{q:i},function(a,t,o){var l=$.map(a,function(a){return{value:a[0],id:a[1]}});l.splice(0,0,{value:"[None]",id:""}),n[i]=l,e(l)}))}}).zIndex(2e3);var l=$('<span class="input-group-btn"><a href="#" class="btn btn-default newbtn" title="Add/Find Item">&bull;&bull;&bull;</a></span>').insertAfter(i);l.find("a").click(function(e){e.preventDefault();var t=a.attr("data-new-modal-url"),i=a.attr("data-list-modal-url"),n=Math.floor(1e6*Math.random()+1);window.open(i,"embedform"+n,"width=600,toolbar=1,location=yes,resizable=1,scrollbars=yes,height=600,top=100,left=100")}),a.addClass("ajax-model-choice-widget-processed")}}function e(a,e){var t=e.id,i=e.name,n=$("#"+a),o=$('[data-input-id="'+a+'"]');o.val(t),n.val(i)}$(".ajax-model-choice-widget").each(function(){var e=$(this);a(e)}),window.processAjaxModelChoiceWidget=a,window.ajaxModelChoiceWidgetUpdateValue=e});