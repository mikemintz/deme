{% extends layout %}
{% load item_tags %}
{% block content %}

<div class="well">
  <form method="get" name="list_filter_form" class="form-horizontal">
    <div class="row">
      <label class="col col-lg-2 control-label">
        Item Type Filter:
      </label>
      <div class="col col-lg-10 item-type-container">
        {% for item_type in item_types %}
        <span>
        {% ifequal item_type.item_type accepted_item_type %}
        <b>{{ item_type.name_plural|capfirst }}</b>
        {% else %}
        <a href="{% url item_type_url viewer=item_type.viewer %}">{{ item_type.name_plural|capfirst }}</a>
        {% endifequal %}
        </span>
        {% endfor %}
      </div>
    </div>
    <div class="row">
      <label class="col col-lg-2 control-label" for="collection">
        Filter on:
      </label>
      <div class="col col-lg-10">
        <select name="collection">
            {% if collection %}
            <option value=""></option>
            {% else %}
            <option value="" selected="selected"></option>
            {% endif %}
            {% for other_collection in all_collections %}
            {% ifequal other_collection.pk collection.pk %}
            <option value="{{ other_collection.pk }}" selected="selected">{% viewable_name other_collection %}</option>
            {% else %}
            <option value="{{ other_collection.pk }}">{% viewable_name other_collection %}</option>
            {% endifequal %}
            {% endfor %}
        </select>
      </div>
    </div>
    <div class="row">
      <label class="col col-lg-2 control-label" for="q">
        Search term:
      </label>
      <div class="col col-lg-10">
        <input type="text" name="q" value="{{ search_query }}" />
      </div>
    </div>
    <div class="row">
      <div class="col col-lg-10 col-offset-2">
        <button type="submit" class="btn btn-default"><i class="glyphicon glyphicon-search"></i> Search</button>
      </div>
    </div>
  </form>
</div>

{% ifagentcanglobal item_create_ability %}
<p>
  <a class="btn btn-primary btn-large" href="{% url item_type_url viewer=item_type_lower,action="new" %}"><i class="glyphicon glyphicon-plus-sign"></i> Create a new {{ item_type_name }}</a>
</p>
{% endifagentcanglobal %}

{% listgridbox accepted_item_type %}

{% endblock content %}

