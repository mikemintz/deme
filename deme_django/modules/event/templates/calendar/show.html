{% extends layout %}
{% load event_extras %}
{% load item_tags %}
{% block title %}<img src="{{ collection|icon_url:24 }}" /> {% viewable_name collection %}
{% endblock %}
{% block content %}

<style type ="text/css">
     .calendar {
  border: 2px solid black;
  font-size: 93%;
  color: #000;
  cursor: default;
  background: #eef;
}

.day { 
  width: 14%;
  height: 58px;
  color: #456;
  text-align: right;
  vertical-align: top;
  padding: 2px 3px 2px 2px;
  border-width: 1px;
  border-color: black;
  border-style: solid;
}

.weekdays th{
    text-align: center;
}
</style>

<br>
<h3 align="center">{{ today|date:"M Y" }}</h3>

<div align="center">
        <a href="?month_offset={{ prev_month_offset }}">~ Previous Month |</a>
        <a href="?month_offset={{ next_month_offset }}">| Next Month ~</a>
</div>

<table class="calendar">
    <tr class="weekdays">
        <th>Sun</th>
        <th>Mon</th>
        <th>Tue</th>
        <th>Wed</th>
        <th>Thu</th>
        <th>Fri</th>
        <th>Sat</th>
    </tr>
    
    <tbody>
    {% for weeks_events in week_list %}
        <tr valign="top">
            {% for days_events in weeks_events %}
            <td class="day" {% if days_events.is_today %} style="background: lightblue;" {% endif %}> 
                    {% if days_events.in_cur_month %}
                        {{ days_events.day.day }}
                    {% else %}
                        <span style="color: silver;">
                            {{ days_events.day.day }}
                        </span>
                    {% endif %}

                    {% for event in days_events.cur_events %}
                        <div style="margin-bottom: 2px; border: thin #ccc solid; background: #fee; -moz-border-radius: 8px; padding: 1px; ">
                            {% if event.is_starting_date %}
                                {{ event.start_time|time:"P" }}
                            {% endif %}
                            <a href="{{ event.url }}">{{ event.name }}</a>
                        </div>
                    {% endfor %}
                </td>
            {% endfor %}
        </tr>
    {% endfor %}    
    </tbody>

</table>

{% endblock %}
