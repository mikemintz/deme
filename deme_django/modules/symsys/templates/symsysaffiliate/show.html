{% extends layout %}
{% load symsys_extras %}
{% load item_tags %}
{% block title %}<img src="{{ item|icon_url:24 }}" /> {% viewable_name item %}{% endblock %}
{% block content %}

{% subclassfields %}

<table cellspacing="0" class="twocol">

    {% ifagentcan 'view Person.first_name' item %}
    {% if item.first_name %}
    <tr>
        <th>First name:</th>
        <td>{{ item.first_name }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view Person.middle_names' item %}
    {% if item.middle_names %}
    <tr>
        <th>Middle names:</th>
        <td>{{ item.middle_names }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view Person.last_name' item %}
    {% if item.last_name %}
    <tr>
        <th>Last name:</th>
        <td>{{ item.last_name }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view Person.suffix' item %}
    {% if item.suffix %}
    <tr>
        <th>Suffix:</th>
        <td>{{ item.suffix }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view SymsysAffiliate.w_organization' item %}
    {% if item.w_organization %}
    <tr>
        <th>Work organization:</th>
        <td>{{ item.w_organization }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view SymsysAffiliate.w_position' item %}
    {% if item.w_position %}
    <tr>
        <th>Work position:</th>
        <td>{{ item.w_position }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view SymsysAffiliate.background' item %}
    {% if item.background %}
    <tr>
        <th>Background:</th>
        <td>{{ item.background|linebreaksbr|urlize }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view SymsysAffiliate.doing_now' item %}
    {% if item.doing_now %}
    <tr>
        <th>Doing Now:</th>
        <td>{{ item.doing_now|linebreaksbr|urlize }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view SymsysAffiliate.interests' item %}
    {% if item.interests %}
    <tr>
        <th>Interests:</th>
        <td>{{ item.interests|linebreaksbr|urlize }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view SymsysAffiliate.publications' item %}
    {% if item.publications %}
    <tr>
        <th>Publications:</th>
        <td>{{ item.publications|linebreaksbr|urlize }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view SymsysAffiliate.office_hours' item %}
    {% if item.office_hours %}
    <tr>
        <th>Office hours:</th>
        <td>{{ item.office_hours|linebreaksbr|urlize }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {% ifagentcan 'view SymsysAffiliate.about' item %}
    {% if item.about %}
    <tr>
        <th>About:</th>
        <td>{{ item.about|linebreaksbr|urlize }}</td>
    </tr>
    {% endif %}
    {% endifagentcan %}

    {# TODO display them as fields, rather than a silly list #}
    {% for collection in containing_collections %}
    <tr>
        <th>Collection:</th>
        <td><a href="{{ collection.get_absolute_url }}">{% viewable_name collection %}</a></td>
    </tr>
    {% endfor %}

    {# TODO display them more nicely, rather than simply embedded #}
    {% for contact_method in contact_methods %}
    <tr>
        <th>Contact Method:</th>
        <td>{% embed contact_method.item_type_string.lower contact_method %}</td>
    </tr>
    {% endfor %}

    {# TODO display them more nicely, rather than simply embedded #}
    {% for symsys_career in symsys_careers %}
    <tr>
        <th>Symsys Career:</th>
        <td>{% embed symsys_career.item_type_string.lower symsys_career %}</td>
    </tr>
    {% endfor %}

    {% if item.photo %}
    {% if item.photo.active %}
    {% ifagentcan 'view SymsysAffiliate.photo' item %}
    {% ifagentcan 'view FileDocument.datafile' item.photo %}
    <tr>
        <th>Photo:</th>
        <td><a href="{{ item.photo.get_absolute_url }}"><img src="{{ item.photo.datafile.url }}" style="border: thick solid #000; max-width: 150px; max-height: 150px;" /></a></td>
    </tr>
    {% endifagentcan %}
    {% endifagentcan %}
    {% endif %}
    {% endif %}

</table>

{% endblock content %}

