New
---
excerpts
nicer admin interface for things (permissions?)
permissions for symsysusers will just be interpreted in the viewer, they don't get "modify_permissions"

Document1.1: A bcdefg

[A] bcdefg
Excerpt1.1: (Document1.1) start=1, end=1

[A] bcdefg
[Aa] bcdefg
Document1.2: AA bcdefg

Excerpt1.2: (Document1.2) start=1, end=2

[Aa] bcdefg
[]bcdefg
Document1.3: bcdefg

THERE IS NO EXCERPT1.3?

excerpts don't change automatically



Abc
Abc*
Abcdef<deme:comment id="123"/>

v1 Abc *def
v2(current) Abc def123


Comment
-------
Item_Id
ItemVersion
FieldItIsAbout
Location (NULL or xpath point-location)
Body

Excerpt
-------
Item_Id
ItemVersion
FieldItIsAbout (maybe just the body)
xpath_string (multiple regions)
data



* Make foreign keys that can't change (like commented_item) not editable, including in initial role definition
* When user doesn't have permission to Create thing, don't display at top of page New Item
* Why can't anonymous user see name in last item in http://symsys02.mintz.org/resource/itemset/69116
* Add Location class and LocationContains relationship
* Event has multiple locations and times
* deleting items (i.e. blanking)
* remember to fully respect trashed=1 everywhere, like in groups, comments, etc.
* We're going to have to integrate permissions into binary files (e.g., MediaDocument) so that users can't bypass Deme and download things from Apache directly.
  - I'd like to have a settings option where you either have apache with no permissions, django with no permissions, or django with full permissions (or maybe later a workaround with apache and permissions based on cookie)
* make constraints (validations?) other than uniqueness work in models with revisions (are there any issues?)
* figure out import deal on deme_django.cms and just cms
* after you comment, and there's a validation error, and you fix it, it doesn't take you back to the original item
* start using verbose_name to have nice displays of item type names
* edit locks
* fyi, there may be cases where there is cur_agent but no cur_account (like anonymous, and login_as other)
* add indexes on things besides foreign keys, like name,description (for search) or version_number, and in global permissions: ability, ability_parameter, and is_allowed fields
* having the default "Item" and "id" ability_parameter is kind of unelegant.
* make "create folio" after group create be a after_save filter sort of thing, rather than viewer implemented, so subclasses of viewer do okay
* write a query that finds out all of the people that have permission to do X to item Y
* urls should be more modular, not hard coded as much, like all the /static/media and /resource/{{item_type}}
* decide whether to have autoescape on or off
* add sensitive_function.alters_data = True to functions like save_versioned so templates cant call them
* come up with a scheme so when you create a new comment on an item, you can't select what it's a comment on (same with edit, although that can be done with permissions)
* lots of html escaping to do probably
* make name a required field. this would make it simpler to link to things without wondering if the link will be unclickable since it's blank

Distant Future
--------------
* more efficient versioning (like like latest version in db, but have deltas to prev versions)
* later, think about adding back "edit downcast". we'll have to think about
  - what happens when viewer2 inherits from viewer1, and viewer2 item type subclasses viewer1 item type, and viewer2 inherits the edit/update functionality?
  - make it work better when you downcast an item in the editor, with versioning backward, and calling actions that should be called on create
* respect the format string and have XML output and stuff

Small Details
-------------
* make favicon transparent (both symsys and groupspace)
* SSL for login or just sha1 the password in javascript
* don't forget to update crystal icons for new models
* make sure actions that change state go through POST and not GET, like entry_trash
